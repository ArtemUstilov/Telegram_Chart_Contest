<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../../dist/bundle.js"></script>
    <link rel="stylesheet" type="text/css" href="canvas.css">
</head>
<body>
<canvas id="canvas" width="500" height="500"></canvas>
<script>
  function readTextFile(file, callback) {
    let rawFile = new XMLHttpRequest();
    rawFile.overrideMimeType("application/json");
    rawFile.open("GET", file, true);
    rawFile.onreadystatechange = function() {
      if (rawFile.readyState === 4 && rawFile.status === "200") {
        callback(rawFile.responseText);
      }
    }
    rawFile.send(null);
  }
  readTextFile("http://127.0.0.1:8887/chart_data.json", function(text){
    let data = JSON.parse(text);
    console.log(data);
  });
  let element = document.getElementById('canvas');
  const graphr = graph.createCanvasGraph(element);
  console.log(graphr);
  const data = [
    { name: 'BlaBla', color: '#FF0000', values: { x: [1, 2, 3, 4, 5, 6], y: [1, 6, 3,2, 5, 2] } },
    { name: 'HaHa', color: '#00FF00', values: { x: [1, 2, 3, 4, 5, 6], y: [3, 1, 2, 5, 5,3] } },
  ];

  const scale = { minX: 1, maxX: 6, minY: 1, maxY: 6 };
  const scale2 = { minX: 3, maxX: 6, minY: 1, maxY: 6 };
  graphr.setData(data);
  graphr.setScale(scale);
  graphr.refresh();
  setTimeout(()=>{
    graphr.setScale(scale2);
    graphr.refresh();
  }, 1000);
</script>
</body>
</html>
